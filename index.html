
<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gioco per Leti ‚ù§Ô∏è</title>
<style>
  body{
    font-family:'Segoe UI',sans-serif;
    background:#fff0f5;
    margin:0;
    padding:0;
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
  }
  #typing-text{
    font-size:28px;
    text-align:center;
    max-width:90%;
    margin-bottom:30px;
  }
  button{
    padding:12px 24px;
    margin:10px;
    font-size:16px;
    cursor:pointer;
    border-radius:8px;
    border:none;
    background:#ff8c94;
    color:#fff;
  }
  .hidden{display:none;}
  .center{text-align:center;}
  #highlighted{background:yellow;}
  #reaction{margin-top:15px;font-style:italic;}
  .text-block{
    max-width:90%;
    font-size:18px;
    line-height:1.6;
    text-align:left;
    padding:20px 10px;
  }
  .heart{
    font-size:32px;
    text-align:center;
    margin:10px 0;
  }
</style>
</head>
<body>
<div id="typing-text"></div>

<div id="step1" class="hidden center">
  <button onclick="handleLeti(true)">S√¨, sono io üòå</button>
  <button onclick="handleLeti(false)">No (ops...)</button>
</div>

<div id="notLeti" class="hidden center">
  <h1>!!</h1>
  <p>Bella prova... ma qui pu√≤ entrare solo LE-TI.</p>
</div>

<div id="verifyLeti" class="hidden center">
  <p><strong>Qual √® il giorno del nostro anniversario <span id="highlighted">secondo Ricky</span>?</strong></p>
  <button onclick="checkDate('30')">30 gennaio</button>
  <button onclick="checkDate('31')">31 gennaio</button>
  <button onclick="checkDate('14feb')">14 febbraio</button>
  <button onclick="checkDate('14lug')">14 luglio</button>
</div>

<div id="wrongDate" class="hidden center">
  <p>Hmm... sei sicura? Guarda meglio quella parte: "<strong>secondo Ricky</strong>" üòâ</p>
</div>

<div id="rightDate" class="hidden center">
  <p>Ciao amore, allora sei veramente tu üíñ<br>S√¨, lo so che √® il 30...</p>
  <p>Ti va di fare un piccolo quiz?</p>
  <button onclick="startQuiz()">Certo üòÑ</button>
</div>

<div id="quiz" class="hidden center">
  <p id="question"></p>
  <div id="options"></div>
  <div id="reaction" class="hidden"></div>
</div>

<div id="resultIntro" class="hidden center">
  <p>So che ti avevo detto che ci sarebbe stato un risultato in base alle tue risposte, ma come a volte capita nella vita, il risultato non cambia.</p>
  <button onclick="showFinal()">Avanti...</button>
</div>

<div id="finale" class="hidden text-block">
  <div class="heart">üíñüíñ</div>
  <p>E il risultato √® che ho capito che ti amo ancora, e che ho intenzione di fare di tutto per darti tutto quello che ti ho fatto mancare, e anche di pi√π.</p>
  <p>Per farti vivere tutte quelle emozioni e esperienze che vuoi ancora vivere.</p>
  <p>E qui inizia la parte un po' pi√π tosta, perch√© so che le cose non sono facili. Ci ho pensato a fondo, e ho capito che il mio gesto ti ha ferito. E che questa ferita non si rimarginer√† facilmente.</p>
  <p>E che l'unica cosa che posso fare √® dirti che sono rimasto tuo per tutto il tempo. E che non succeder√† mai pi√π. Non cos√¨.</p>
  <p>E non so se tutto me stesso baster√† a risanare la ferita che ho creato tra di noi, a farti dimenticare la paura che io possa ancora ferirti e farti stare male. Ma questo √® quello che ti offro, perch√© ho veramente capito quanto vali per me.</p>
  <p>E per quanto mi riguarda, il mio cuore ha deciso che sar√≤ per sempre con te.</p>
  <p>Ti amo.</p>
  <div class="heart">üíñüíñ</div>
</div>

<script>
const typingText="Ciao... sei la Leti??";
let ti=0;
function typeWriter(){
  if(ti<typingText.length){
    document.getElementById("typing-text").textContent+=typingText.charAt(ti);
    ti++;
    setTimeout(typeWriter,100);
  }else{
    document.getElementById("step1").classList.remove("hidden");
  }
}
window.onload=typeWriter;

function handleLeti(isLeti){
  document.getElementById("step1").classList.add("hidden");
  if(isLeti){
    document.getElementById("verifyLeti").classList.remove("hidden");
  }else{
    document.getElementById("notLeti").classList.remove("hidden");
  }
}

function checkDate(val){
  document.getElementById("verifyLeti").classList.add("hidden");
  if(val==="30"){
    document.getElementById("highlighted").style.background="yellow";
    document.getElementById("wrongDate").classList.remove("hidden");
  }else if(val==="31"){
    document.getElementById("rightDate").classList.remove("hidden");
  }else{
    document.getElementById("wrongDate").classList.remove("hidden");
  }
}

const questions=[
  "Credi nel destino?",
  "Pensi che la vita sia una questione di scelte?",
  "Cosa conta di pi√π: qualit√† o quantit√†?",
  "Quante volte al giorno pensi che ti sopporto?"
];
const options=[
  ["S√¨","No"],
  ["S√¨","No"],
  ["Qualit√†","Quantit√†"],
  ["Zero, sono adorabile üòá","Due o tre‚Ä¶ massimo","Ogni secondo","Non dire cazzate. Sono io che sopporto te."]
];
const reactionMap={"2_0":"Esatto, √® cos√¨ che deve essere il nostro tempo passato insieme"};
let qIndex=0;

function startQuiz(){
  document.getElementById("rightDate").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  showQuestion();
}

function showQuestion(){
  document.getElementById("reaction").classList.add("hidden");
  document.getElementById("reaction").textContent="";
  if(qIndex<questions.length){
    document.getElementById("question").textContent=questions[qIndex];
    const optDiv=document.getElementById("options");
    optDiv.innerHTML="";
    options[qIndex].forEach((opt,idx)=>{
      const btn=document.createElement("button");
      btn.textContent=opt;
      btn.onclick=()=>nextQuiz(idx);
      optDiv.appendChild(btn);
    });
  }else{
    document.getElementById("quiz").classList.add("hidden");
    document.getElementById("resultIntro").classList.remove("hidden");
  }
}

function nextQuiz(idx){
  const key=qIndex+"_"+idx;
  if(reactionMap[key]){
    document.getElementById("reaction").textContent=reactionMap[key];
    document.getElementById("reaction").classList.remove("hidden");
    setTimeout(()=>{qIndex++;showQuestion();},2000);
  }else{
    qIndex++;showQuestion();
  }
}

function showFinal(){
  document.getElementById("resultIntro").classList.add("hidden");
  document.getElementById("finale").classList.remove("hidden");
}
</script>
</body>
</html>
